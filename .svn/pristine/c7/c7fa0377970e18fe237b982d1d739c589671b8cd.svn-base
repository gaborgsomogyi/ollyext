#include "stdafx.h"
#include "DBG.h"
#include "Config.h"


#define INI_NAME L".\\OllyExt.ini"


void configSaveString( const wchar_t* pName, const wchar_t* pValue )
{
	WritePrivateProfileString( dbgGetPluginName(), pName, pValue, INI_NAME );
}


std::wstring configReadString( const wchar_t* pName, const wchar_t* pDefaultValue )
{
	wchar_t s[MAX_PATH] = { 0 };
	GetPrivateProfileString( dbgGetPluginName(), pName, pDefaultValue, s, sizeof( s ), INI_NAME );
	return s;
}


void configSaveBool( const wchar_t* pName, bool value )
{
	configSaveInt( pName, value );
}


bool configReadBool( const wchar_t* pName, bool defaultValue )
{
	return ( configReadInt( pName, defaultValue ) != 0 );
}


void configSaveInt( const wchar_t* pName, int value )
{
	wchar_t s[MAX_PATH] = { 0 };
	_itow( value, s, 10 );
	WritePrivateProfileString( dbgGetPluginName(), pName, s, INI_NAME );
}


int configReadInt( const wchar_t* pName, int defaultValue )
{
	return GetPrivateProfileInt( dbgGetPluginName(), pName, defaultValue, INI_NAME );
}
