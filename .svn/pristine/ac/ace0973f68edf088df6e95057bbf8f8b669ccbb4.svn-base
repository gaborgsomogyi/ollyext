#include "stdafx.h"
#include "OllyExtConfig.h"
#include "OllyExtGeneral.h"


sGeneralOptions g_generalOptions = { CODE_MASMSYNTAX };


#define CODERIPPERSYNTAX L"CodeRipperSyntax"
#define DATARIPPERSYNTAX L"DataRipperSyntax"


void generalReadOptions( void )
{
	int data = configReadInt( CODERIPPERSYNTAX );
	g_generalOptions.codeRipperSyntax = (eCodeRipperSyntax)data;
	if( g_generalOptions.codeRipperSyntax < CODE_MASMSYNTAX )
		g_generalOptions.codeRipperSyntax = CODE_MASMSYNTAX;
	if( g_generalOptions.codeRipperSyntax > CODE_ATSYNTAX )
		g_generalOptions.codeRipperSyntax = CODE_MASMSYNTAX;

	data = configReadInt( DATARIPPERSYNTAX );
	g_generalOptions.dataRipperSyntax = (eDataRipperSyntax)data;
	if( g_generalOptions.dataRipperSyntax < DATA_CSYNTAX )
		g_generalOptions.dataRipperSyntax = DATA_CSYNTAX;
	if( g_generalOptions.dataRipperSyntax > DATA_MASMSYNTAX )
		g_generalOptions.dataRipperSyntax = DATA_CSYNTAX;
}


void generalWriteOptions( void )
{
	configSaveInt( CODERIPPERSYNTAX, g_generalOptions.codeRipperSyntax );
	configSaveInt( DATARIPPERSYNTAX, g_generalOptions.dataRipperSyntax );
}
